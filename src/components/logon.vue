<template>
  <div class="logon">
    <div class="close-but" @click="logonPopup(false)">
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="28388"><path d="M583.168 523.776L958.464 148.48c18.944-18.944 18.944-50.176 0-69.12l-2.048-2.048c-18.944-18.944-50.176-18.944-69.12 0L512 453.12 136.704 77.312c-18.944-18.944-50.176-18.944-69.12 0l-2.048 2.048c-19.456 18.944-19.456 50.176 0 69.12l375.296 375.296L65.536 899.072c-18.944 18.944-18.944 50.176 0 69.12l2.048 2.048c18.944 18.944 50.176 18.944 69.12 0L512 594.944 887.296 970.24c18.944 18.944 50.176 18.944 69.12 0l2.048-2.048c18.944-18.944 18.944-50.176 0-69.12L583.168 523.776z" p-id="28389"></path></svg>
    </div>
    <div class="nav-bar">登录</div>
    <img class="logo" src="../assets/img/logon-logo.jpg" alt="" />
    <div class="logon-box">
      <div class="itme-box">
        <input type="number" placeholder="手机号" maxlength="11" />
      </div>
      <div class="itme-box">
        <input :type="passwordOpen ? 'text' : 'password'" placeholder="登录密码" />
        <span class="eye-icon" @click="passwordState" ><svg v-if="passwordOpen" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30134"><path d="M530.572 185v0.805c163.103 10.218 304.041 117.634 422.125 318.43l3.571 6.114-0.759 0.439 1.491 0.863c-118.81 204.73-260.945 314.222-425.695 324.544V837l-5.267-0.033a415.875 415.875 0 0 1-7.673-0.167c-2.55 0.08-5.108 0.135-7.671 0.167l-5.266 0.033v-0.805C342.325 825.977 201.387 718.56 83.303 517.765l-3.571-6.114 0.758-0.44-1.49-0.862c118.81-204.73 260.945-314.222 425.695-324.544V185l5.267 0.033c2.563 0.032 5.121 0.088 7.674 0.167 2.55-0.08 5.107-0.135 7.67-0.167l5.266-0.033z m-12.07 218.466c-59.73 0-108.15 48.39-108.15 108.084 0 59.692 48.42 108.083 108.15 108.083 59.73 0 108.15-48.39 108.15-108.083s-48.42-108.084-108.15-108.084z" p-id="30135"></path></svg>
        <svg class="icon" v-else viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30364"><path d="M512.022187 546.417778c-184.177778 0-368.071111-55.921778-499.114667-167.537778a37.575111 37.575111 0 0 1-3.498667-53.162667 37.944889 37.944889 0 0 1 53.418667-3.470222c231.082667 198.826667 668.302222 198.826667 898.389333 0a37.944889 37.944889 0 0 1 53.418667 3.470222c13.767111 15.644444 12.231111 39.452444-3.498667 53.191111C880.093298 490.496 696.199964 546.417778 512.022187 546.417778z m-136.760889 164.522666a30.833778 30.833778 0 0 1-6.741334 0c-10.325333-1.422222-19.626667-7.111111-25.543111-15.644444-5.944889-8.561778-7.964444-19.228444-5.632-29.354667l24.945778-146.631111a37.973333 37.973333 0 0 1 43.918222-30.805333 37.831111 37.831111 0 0 1 30.947556 43.747555l-24.945778 146.602667a37.376 37.376 0 0 1-36.949333 32.085333z m561.009778-74.581333c-9.955556 0-19.512889-4.039111-26.453334-11.178667l-123.022222-124.245333a37.176889 37.176889 0 0 1 16.042667-64.455111 37.546667 37.546667 0 0 1 37.091555 12.259556l123.050667 124.245333c14.592 14.563556 14.592 38.144 0 52.707555-7.224889 6.826667-16.782222 10.638222-26.737778 10.666667z m-848.497778 0a38.997333 38.997333 0 0 1-24.945778-10.666667 37.176889 37.176889 0 0 1 0-52.707555l123.022222-124.245333a37.518222 37.518222 0 0 1 67.470222 14.136888 37.205333 37.205333 0 0 1-15.815111 38.058667l-123.022222 124.245333a37.006222 37.006222 0 0 1-26.709333 11.178667z m562.744889 74.581333a37.376 37.376 0 0 1-36.693334-30.833777l-24.945777-146.631111a37.176889 37.176889 0 0 1 9.756444-38.826667 37.546667 37.546667 0 0 1 39.424-7.68c13.539556 5.319111 22.755556 17.92 23.694222 32.341333l24.945778 146.631111c1.820444 9.728-0.341333 19.768889-6.030222 27.904-5.688889 8.135111-14.364444 13.653333-24.177778 15.36a30.805333 30.805333 0 0 1-5.973333 1.706667z" p-id="30365"></path></svg>
        </span>
      </div>
      <input class="logon-bug" type="button" @click="goLogon" value="登录" />
      <div class="more-operate">
        <router-link to="/">快速注册</router-link>
        <router-link to="/">忘记密码</router-link>
      </div>
    </div>
    <div class="division-line">
      <span>更多登录方式</span>
    </div>
    <ul class="more-options">
      <li>
        <svg class="icon" viewBox="0 0 1228 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31125"><path d="M86.176896 791.989949a21.240784 21.240784 0 0 1-19.541522-29.567172l61.246284-143.648389c-37.626532-31.205746-67.788446-67.31508-89.636109-107.526919C12.914397 464.529882 0 414.668658 0 363.059621c0-49.594197 11.906977-97.646919 35.405353-142.847308 22.503094-43.294787 54.619159-82.098665 95.47429-115.307114C214.010004 37.250267 324.26788 0 441.371358 0s227.324941 37.250267 310.443164 104.868786c40.842994 33.232724 72.971197 72.036602 95.474291 115.307114 23.498376 45.200389 35.405353 93.253111 35.405353 142.847308h-42.481569C840.212597 186.299884 661.280231 42.481568 441.371358 42.481568S42.481568 186.299884 42.481568 363.059621c0 44.447858 11.130171 87.487756 33.099211 127.905934 21.422848 39.447171 52.070265 74.573359 91.031932 104.383282a21.240784 21.240784 0 0 1 6.639263 25.209777l-45.940782 107.745395 146.670649-67.836996a21.252922 21.252922 0 0 1 15.66963-0.91032 481.291895 481.291895 0 0 0 151.719887 24.056706 500.372188 500.372188 0 0 0 53.793803-2.900884l4.58801 42.226679a543.011545 543.011545 0 0 1-58.381813 3.143636 524.902259 524.902259 0 0 1-157.011877-23.607615L95.085888 790.035796a21.216509 21.216509 0 0 1-8.908992 1.954153zM1151.578219 1024a21.204371 21.204371 0 0 1-8.908992-1.96629L980.984378 947.2176a454.504232 454.504232 0 0 1-134.800086 20.09985c-101.37316 0.036413-196.835313-32.237442-268.871915-90.813455-35.441766-28.838916-63.321812-62.508594-82.851196-100.098713a265.958893 265.958893 0 0 1 0-248.407937c19.541521-37.626532 47.421568-71.271934 82.851196-100.098713 72.00019-58.588152 167.498755-90.849868 268.835502-90.849868s196.859588 32.261717 268.859778 90.849868c35.441766 28.838916 63.321812 62.508594 82.851196 100.098713a266.929901 266.929901 0 0 1 30.780931 124.203968c0 44.909087-11.190859 88.228149-33.244862 128.840529-18.631202 34.300832-44.192969 65.166726-76.07842 91.905838l51.803238 121.485148a21.240784 21.240784 0 0 1-19.541521 29.567172z m-169.198018-120.732617a21.228647 21.228647 0 0 1 8.921129 1.966289l119.094043 55.080388-36.412773-85.521466a21.240784 21.240784 0 0 1 6.639262-25.209776c33.208449-25.379703 59.292132-55.262452 77.510656-88.810753 18.64334-34.325107 28.098523-70.847119 28.098523-108.558614 0-150.348339-152.520968-272.670981-339.998198-272.670981S506.186094 501.840836 506.186094 652.201313 658.707062 924.872295 846.172155 924.872295a410.857454 410.857454 0 0 0 129.520233-20.524667 21.228647 21.228647 0 0 1 6.687813-1.080245zM276.542873 215.830643m-45.916507 0a45.916507 45.916507 0 1 0 91.833013 0 45.916507 45.916507 0 1 0-91.833013 0ZM537.319015 215.830643m-45.916507 0a45.916507 45.916507 0 1 0 91.833013 0 45.916507 45.916507 0 1 0-91.833013 0ZM715.790152 509.997297m-45.916506 0a45.916507 45.916507 0 1 0 91.833013 0 45.916507 45.916507 0 1 0-91.833013 0ZM976.566294 509.997297m-45.916506 0a45.916507 45.916507 0 1 0 91.833013 0 45.916507 45.916507 0 1 0-91.833013 0Z" p-id="31126" fill="#6eb652"></path></svg>
        <span>微信</span>
      </li>
      <li>
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31745"><path d="M534.377148 64.11832c302.340933 0 317.210595 288.721751 317.210595 288.721751 45.862537 60.731176 21.084201 115.245767 21.084201 115.245767 147.456377 231.735875 52.05047 298.68466 26.02677 303.621089-26.02677 4.937452-50.829665-28.51852-50.829665-28.51852s-8.650007 33.429367-29.740348 50.823526c76.854389 35.897581 63.201437 80.536244 63.201437 80.536244s-16.117073 134.765333-335.797929 49.576115l-27.27111-4.964058c-306.406528 110.594841-344.484775-38.423101-344.484775-38.423101s-12.401448-61.926398 47.078225-85.505419c-34.707476-21.084201-47.078225-65.669652-47.078225-65.669652s-30.992875 50.79692-71.881121 32.212656c-40.895409-18.587334-65.668629-183.380564 87.973634-302.33991 0 0-22.280446-70.63678 28.517497-112.778576C218.386334 346.656231 232.035192 64.11832 534.377148 64.11832M265.464559 362.773304c-66.916039 56.986899-22.303982 114.024963-22.303982 114.024963C95.705224 567.267744 121.729947 713.472618 121.729947 713.472618s23.52274-11.789511 40.251749-45.857421c16.731056-34.07098 42.754756 5.574972 42.754756 5.574972s16.117073 78.070076 65.462944 108.651582c49.348941 30.582529-2.174526 50.095955-2.174526 50.095955s-54.318116 0.788969-49.63956 37.673018c4.673439 36.885072 179.871647 83.065857 285.004079 1.24741l55.757908 7.437389c183.415356 63.783699 273.856182 4.298909 279.895735-7.111978 6.0416-11.411911-27.704992-33.809013-58.724473-46.788629-31.022551-12.986779-39.003316-26.66736-11.562337-44.936445 27.445072-18.262946 38.281885-54.513568 54.342676-92.036159 16.054651-37.525662 40.250726-19.197224 43.3626-8.650007 3.105734 10.541077 26.02063 45.825698 26.02063 45.825698s59.743686-63.312978-64.446801-250.297626c0 0 26.951839-56.026014-18.591427-101.592816 0 0-11.124362-262.724657-280.062534-262.724657C260.442172 109.98188 265.464559 362.773304 265.464559 362.773304" p-id="31746" fill="#5a93cc"></path></svg>
        <span>QQ</span>
      </li>
    </ul>
  </div>
</template>

<script>
import axios from "@/axios";
import { mapState, mapMutations } from 'vuex';

export default {
  name: 'logon',
  data() {
    return {
      passwordOpen: false, // 密码眼睛
    }
  },
  emits: ['refreshData', 'switchNav'],
  mounted() {
  },
  computed: {
    // ...mapState({
    //   userInfo: state => state.userInfo,
    // })
  },
  // 事件
  methods: {
    ...mapMutations(['logonPopup', 'updateUserInfo']),
    // 密码显示开关
    passwordState() {
      this.passwordOpen = !this.passwordOpen;
    },
    // 去登录
    goLogon() {
      axios.get("/api/returnTrue.json").then(res => {
        if (res.returnCode == 200) {
          this.logonPopup(false);
          this.updateUserInfo(true)
        }
      })
    }
  }
}
</script>

<style lang="scss" scoped>
.logon {
  width: 100vw;
  height: 100vh;
  position: absolute;
  z-index: 999;
  top: 0;
  left: 0;
  background-color: #fff;
  .close-but {
    width: 2vh;
    height: 2vh;
    position: absolute;
    z-index: 1;
    top: 2vh;
    left: 3vw;
    color: #4b4b4b;
    svg.icon {
      width: 2vh;
      height: 2vh;
      vertical-align: middle;
      fill: currentColor;
      overflow: hidden;
    }
  }
  .nav-bar {
    width: 100%;
    font-size: 4vw;
    text-align: center;
    box-sizing: border-box;
    padding: 2vh 0;
  }
  .logo {
    display: block;
    margin: 5vh auto 10vh auto;
    width: 12vh;
  }
  .logon-box {
    width: 80%;
    margin: 0 auto 20vh;
    .itme-box {
      width: 100%;
      border-bottom: 1px solid #a8a8a8;
      position: relative;
      margin-bottom: 5vw;
      input {
        border: none;
        width: 100%;
        height: 10vw;
        line-height: 10vw;
        box-sizing: border-box;
        padding: 0 3vw;
        outline: none;
        color: #555454;
        font-size: 4vw;
      }
      .eye-icon {
        position: absolute;
        width: 4vw;
        height: 4vw;
        top: 45%;
        right: 2%;
        transform: translateY(-50%);
        color: #8a8778;
        svg.icon {
          width: 100%;
          height: 100%;
          vertical-align: middle;
          fill: currentColor;
          overflow: hidden;
        }
      }
    }
    .logon-bug {
      width: 100%;
      box-sizing: border-box;
      padding: 3.5vw;
      background-color: #333333;
      border-radius: 2vw;
      border: none;
      color: #fff;
      font-size: 4vw;
      margin-bottom: 5vw;
    }
    .more-operate {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      a {
        font-size: 3vw;
        color: #4f4f4f;
        text-decoration: none;
      }
    }
  }
  .division-line {
    width: 80%;
    margin: 0 auto;
    margin-bottom: 5vh;
    position: relative;
    display: flex;
    &:before {
      content:" ";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 1px;
      background-color: #d2d2d2;
    }
    span {
      padding: 1vw 3vw;
      background-color: #fff;
      color: #d2d2d2;
      display: block;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      font-size: 3vw;
    }
  }
  .more-options {
    width: 50%;
    margin: 0 auto;
    display: flex;
    justify-content:space-between;
    li {
      width: 10vw;
      height: 14vw;
      display: flex;
      flex-direction: column;
      justify-content:space-between;
      align-items: center;
      svg.icon {
        width: 6vw;
        height: 6vw;
      }
      span {
        font-size: 3vw;
        color: #4d4d4d;
      }
    }
  }
}
</style>
